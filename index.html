<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Number Guessing Game üéØ</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #292296, #e5004c);
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
      margin: 0;
      padding: 20px;
      gap: 20px;
      flex-wrap: wrap;
    }
    .container, .scoreboard {
      background-color: rgba(0,0,0,0.5);
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 8px 30px rgba(0,0,0,0.3);
      width: 100%;
      max-width: 400px;
      text-align: center;
    }
    h1 {
      margin-bottom: 20px;
      font-size: 2rem;
    }
    label {
      display: block;
      text-align: left;
      margin-bottom: 6px;
      font-weight: 600;
    }
    input[type="text"], input[type="number"], select {
      width: 100%;
      padding: 8px 12px;
      margin-bottom: 15px;
      border: none;
      border-radius: 6px;
      font-size: 1rem;
      height: 38px;
      box-sizing: border-box;
      line-height: 1.2;
      font-family: inherit;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
      background: white url("data:image/svg+xml,%3Csvg fill='none' stroke='%23222' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E") no-repeat right 10px center;
      background-size: 16px 16px;
      color: #222;
      padding-right: 30px;
    }
    button {
      padding: 10px 20px;
      font-size: 1.1rem;
      font-weight: 700;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      background-color: #ff2d5e;
      color: #ffffff;
      transition: background-color 0.3s ease, transform 0.3s ease;
      margin-top: 10px;
      width: 100%;
      user-select: none;
      height: 44px;
      box-sizing: border-box;
    }
    button:disabled {
      background-color: #bbb;
      cursor: not-allowed;
      transform: none;
    }
    button:hover:not(:disabled) {
      background-color: #ff5b81;
      transform: scale(1.05);
    }
    .feedback {
      margin-top: 20px;
      font-size: 1.2rem;
      min-height: 30px;
      font-weight: 600;
      opacity: 0;
      animation: fadeIn 0.6s forwards;
      user-select: none;
    }
    .low { color: #f4d35e; }
    .high { color: #f3722c; }
    .correct { color: #06d6a0; }
    .error { color: #ef476f; }

    @keyframes fadeIn {
      to { opacity: 1; }
    }

    /* Scoreboard styles */
    .scoreboard h2 {
      font-size: 1.5rem;
      margin-bottom: 15px;
      border-bottom: 2px solid #f0a500;
      padding-bottom: 5px;
      user-select: none;
    }
    .score-list {
      list-style: none;
      max-height: 320px;
      overflow-y: auto;
      padding: 0;
      margin: 0;
      text-align: left;
      font-size: 0.95rem;
    }
    .score-list li {
      padding: 8px 12px;
      border-bottom: 1px solid rgba(240,165,0,0.3);
      word-wrap: break-word;
      user-select: text;
    }
    .score-list li:last-child {
      border-bottom: none;
    }

    /* Mobile responsiveness */
    @media (max-width: 480px) {
      body {
        flex-direction: column;
        align-items: center;
        padding: 10px;
      }
      .container, .scoreboard {
        max-width: 100%;
        width: 100%;
        padding: 20px;
      }
      button, input[type="text"], input[type="number"], select {
        font-size: 1.2rem;
        height: 50px;
      }
      h1 {
        font-size: 1.6rem;
      }
      .scoreboard h2 {
        font-size: 1.3rem;
      }
    }
  </style>
</head>
<body>

  <div class="container">
    <h1>Number Guessing Game üéØ</h1>

    <label for="nameInput">Enter your name:</label>
    <input type="text" id="nameInput" placeholder="Your name" autocomplete="off" />

    <label for="difficultySelect">Choose difficulty:</label>
    <select id="difficultySelect">
      <option value="easy">Easy (1-10, 5 tries)</option>
      <option value="medium">Medium (1-100, 10 tries)</option>
      <option value="hard">Hard (1-1000, 15 tries)</option>
    </select>

    <button id="startBtn">Start Game</button>

    <div id="gameArea" style="display:none;">
      <p id="guessLabel"></p>
      <input type="number" id="guessInput" placeholder="Enter your guess" min="1" autocomplete="off" />
      <button id="submitGuessBtn">Submit Guess</button>
      <p id="feedback" class="feedback"></p>
      <button id="playAgainBtn" style="display:none;">Play Again</button>
    </div>
  </div>

  <div class="scoreboard">
    <h2>Scoreboard üèÜ</h2>
    <ul class="score-list" id="scoreList">
      <!-- Scores will be appended here -->
    </ul>
    <button class="clear-btn" id="clearScoresBtn">Clear Scores</button>
  </div>

  <script>
    const nameInput = document.getElementById('nameInput');
    const difficultySelect = document.getElementById('difficultySelect');
    const startBtn = document.getElementById('startBtn');
    const gameArea = document.getElementById('gameArea');
    const guessLabel = document.getElementById('guessLabel');
    const guessInput = document.getElementById('guessInput');
    const submitGuessBtn = document.getElementById('submitGuessBtn');
    const feedback = document.getElementById('feedback');
    const playAgainBtn = document.getElementById('playAgainBtn');

    const scoreList = document.getElementById('scoreList');
    const clearScoresBtn = document.getElementById('clearScoresBtn');

    let secretNumber = 0;
    let maxNumber = 10;
    let maxAttempts = 5;
    let attempts = 0;
    let gameOver = false;

    function startGame() {
      const name = nameInput.value.trim();
      if (!name) {
        alert('Please enter your name!');
        return;
      }

      const level = difficultySelect.value;
      if (level === 'easy') {
        maxNumber = 10;
        maxAttempts = 5;
      } else if (level === 'medium') {
        maxNumber = 100;
        maxAttempts = 10;
      } else if (level === 'hard') {
        maxNumber = 1000;
        maxAttempts = 15;
      }

      secretNumber = Math.floor(Math.random() * maxNumber) + 1;
      attempts = 0;
      gameOver = false;

      guessLabel.textContent = `Guess a number between 1 and ${maxNumber}`;
      feedback.textContent = '';
      feedback.className = 'feedback';

      guessInput.value = '';
      guessInput.min = 1;
      guessInput.max = maxNumber;
      guessInput.disabled = false;
      submitGuessBtn.disabled = false;
      playAgainBtn.style.display = 'none';

      gameArea.style.display = 'block';
      nameInput.disabled = true;
      difficultySelect.disabled = true;

      guessInput.focus();

      // Uncomment below to see secret number in console (for debugging)
      // console.log(`Secret number: ${secretNumber}`);
    }

    function checkGuess() {
      if (gameOver) return;

      const guess = guessInput.value.trim();
      if (!guess || isNaN(guess)) {
        setFeedback('‚ùå Please enter a valid number!', 'error');
        return;
      }

      const guessNum = Number(guess);

      if (guessNum < 1 || guessNum > maxNumber) {
        setFeedback(`‚ùå Please enter a number between 1 and ${maxNumber}!`, 'error');
        return;
      }

      attempts++;

      if (guessNum === secretNumber) {
        setFeedback(`üéâ Correct! You guessed it in ${attempts} ${attempts === 1 ? 'try' : 'tries'}!`, 'correct');
        endGame(true);
      } else if (guessNum < secretNumber) {
        setFeedback('Too low! üìâ', 'low');
      } else {
        setFeedback('Too high! üìà', 'high');
      }

      if (attempts >= maxAttempts && guessNum !== secretNumber) {
        setFeedback(`üí• Game Over! The number was ${secretNumber}`, 'error');
        endGame(false);
      }

      guessInput.value = '';
      guessInput.focus();
    }

    function setFeedback(message, type) {
      feedback.textContent = message;
      feedback.className = `feedback ${type}`;
      // Restart animation (for repeated feedback messages)
      feedback.style.animation = 'none';
      feedback.offsetHeight; // trigger reflow
      feedback.style.animation = null;
    }

    function endGame(won) {
      gameOver = true;
      guessInput.disabled = true;
      submitGuessBtn.disabled = true;
      playAgainBtn.style.display = 'block';

      // Save score
      saveScore(won);
      renderScores();
    }

    function resetGame() {
      feedback.textContent = '';
      feedback.className = 'feedback';
      guessInput.value = '';
      guessInput.disabled = false;
      submitGuessBtn.disabled = false;
      playAgainBtn.style.display = 'none';
      attempts = 0;
      gameOver = false;

      secretNumber = Math.floor(Math.random() * maxNumber) + 1;
      guessLabel.textContent = `Guess a number between 1 and ${maxNumber}`;

      guessInput.focus();
    }

    function saveScore(won) {
      const name = nameInput.value.trim();
      const level = difficultySelect.options[difficultySelect.selectedIndex].text;
      let record = JSON.parse(localStorage.getItem('guessingGameScores')) || [];
      if (won) {
        record.push(`${name} won in ${attempts} ${attempts === 1 ? 'try' : 'tries'} on ${level} üéØ`);
      } else {
        record.push(`${name} lost after ${maxAttempts} tries on ${level} üíÄ`);
      }
      localStorage.setItem('guessingGameScores', JSON.stringify(record));
    }

    function renderScores() {
      let record = JSON.parse(localStorage.getItem('guessingGameScores')) || [];
      scoreList.innerHTML = '';

      if (record.length === 0) {
        scoreList.innerHTML = '<li>No scores yet. Play the game to get started!</li>';
        return;
      }

      // Show latest scores first
      record.slice().reverse().forEach(entry => {
        const li = document.createElement('li');
        li.textContent = entry;
        scoreList.appendChild(li);
      });
    }

    function clearScores() {
      if (confirm('Are you sure you want to clear all scores?')) {
        localStorage.removeItem('guessingGameScores');
        renderScores();
      }
    }

    // Event listeners
    startBtn.addEventListener('click', startGame);
    submitGuessBtn.addEventListener('click', checkGuess);
    guessInput.addEventListener('keyup', function(event) {
      if (event.key === 'Enter') {
        checkGuess();
      }
    });
    playAgainBtn.addEventListener('click', resetGame);
    clearScoresBtn.addEventListener('click', clearScores);

    // On load, render scoreboard
    renderScores();
  </script>

</body>
</html>
